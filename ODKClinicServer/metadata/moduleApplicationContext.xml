<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:ws="http://jax-ws.dev.java.net/spring/core"
       xmlns:wss="http://jax-ws.dev.java.net/spring/servlet"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:util="http://www.springframework.org/schema/util"
       xsi:schemaLocation="http://www.springframework.org/schema/beans 
           http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
           http://www.springframework.org/schema/context
           http://www.springframework.org/schema/context/spring-context-2.5.xsd
           http://www.springframework.org/schema/util
           http://www.springframework.org/schema/util/spring-util-2.0.xsd
           http://jax-ws.dev.java.net/spring/core
           http://jax-ws.dev.java.net/spring/core.xsd
           http://jax-ws.dev.java.net/spring/servlet
           http://jax-ws.dev.java.net/spring/servlet.xsd">
    
    <!-- MUST start with /ms/jaxws/ -->
    <!-- /ms/ is the module servlet defined by openmrs that forwards to our servlet -->
    <!-- Our webservices servlet is defined as "jaxws" in the "webservice.jaxws" module's config.xml -->
    

</beans>

<!-- Beans to add to the current Application context definition -->
<!--
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">
    
<beans>

    <bean id="completemoduleUrlMapping" class="org.springframework.web.servlet.handler.SimpleUrlHandlerMapping">
        <property name="mappings">
            <props>
                  <prop key="module/@MODULE_ID@/odkclinic.form">OdkClinicFormController</prop>
            </props>
        </property>
    </bean>
    
<bean parent="serviceContext">
	<property name="moduleService">
		<list>
			<value>com.odkclinic.server.ODKClinicService</value> 
			<bean class="org.springframework.transaction.interceptor.TransactionProxyFactoryBean">
				<property name="transactionManager"><ref bean="transactionManager"/></property>
				<property name="target">
					<bean class="com.odkclinic.server.ODKClinicServiceImpl">
						<property name="RevisionToken">
							<bean class="com.odkclinic.db.hibernate.HibernateRevisionToken">
								<property name="sessionFactory"><ref bean="sessionFactory"/></property>	
							</bean>
						</property>	
					</bean>
				</property>
				<property name="preInterceptors">
					<list>
						<ref bean="authorizationInterceptor"/>
					</list>
				</property>
				<property name="transactionAttributeSource">
					<bean class="org.springframework.transaction.annotation.AnnotationTransactionAttributeSource"/>
				</property>
			</bean>
		</list>
	</property>
</bean>
	       
   
       
    <bean id="OdkClinicFormController" class="@MODULE_PACKAGE@.web.controller.ODKClinicFormController">
	    <property name="commandName"><value>thePatientList</value></property>
	    <property name="formView"><value>/module/@MODULE_ID@/OdkClinicForm</value></property>
	    <property name="successView"><value>odkclinic.form</value></property>
    </bean>
       
    
</beans>
-->
